{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{CartContext}from'../context/CartContext';import'./Products.css';import{createClient}from'@supabase/supabase-js';// Supabase config\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const supabaseUrl='https://cslnkpnxwqahipwrjqna.supabase.co';const supabaseKey='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNzbG5rcG54d3FhaGlwd3JqcW5hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2MzAxNDksImV4cCI6MjA1NTIwNjE0OX0.jqJ9wbyVFx09RvlNXnLZipCzFvjY2RTfcbO4XoiTfU8';// Replace with your full anon key\nconst supabase=createClient(supabaseUrl,supabaseKey);const Products=()=>{const{addToCart}=useContext(CartContext);const[search,setSearch]=useState('');const[category,setCategory]=useState('All');const[selectedProduct,setSelectedProduct]=useState(null);const[quantity,setQuantity]=useState(1);const[sortOption,setSortOption]=useState('default');const[productsList,setProductsList]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// ‚úÖ Fetch products and sanitize data\nuseEffect(()=>{const fetchProducts=async()=>{try{setLoading(true);const{data,error}=await supabase.from('products').select('*').gt('quantity',0);if(error)throw error;const sanitizedData=data.map(product=>({...product,price:Number(product.price),quantity:Number(product.quantity)}));setProductsList(sanitizedData);}catch(err){setError(err.message);console.error('Error fetching products:',err);}finally{setLoading(false);}};fetchProducts();const channel=supabase.channel('products-changes').on('postgres_changes',{event:'*',schema:'public',table:'products'},payload=>{if(payload.eventType==='UPDATE'){setProductsList(prev=>prev.map(p=>p.id===payload.new.id?{...payload.new,price:Number(payload.new.price),quantity:Number(payload.new.quantity)}:p));}}).subscribe();return()=>{supabase.removeChannel(channel);};},[]);// ‚úÖ Add to cart with numeric values\nconst handleAddToCart=async product=>{try{if(quantity>product.quantity){alert(`Only ${product.quantity} items available in stock`);return;}const updatedProducts=productsList.map(p=>p.id===product.id?{...p,quantity:p.quantity-quantity}:p);setProductsList(updatedProducts);const{error:updateError}=await supabase.from('products').update({quantity:product.quantity-quantity}).eq('id',product.id);if(updateError)throw updateError;addToCart({...product,price:Number(product.price),quantity:Number(quantity)});setSelectedProduct(null);setQuantity(1);}catch(err){console.error('Error updating product quantity:',err);setProductsList(productsList);alert('Failed to update product quantity. Please try again.');}};const filteredProducts=productsList.filter(product=>(category==='All'||product.category===category)&&product.name.toLowerCase().includes(search.toLowerCase()));const sortedProducts=[...filteredProducts].sort((a,b)=>{switch(sortOption){case'price-low':return a.price-b.price;case'price-high':return b.price-a.price;case'name-asc':return a.name.localeCompare(b.name);case'name-desc':return b.name.localeCompare(a.name);default:return 0;}});const categories=[...new Set(productsList.map(product=>product.category))];if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading products...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Error loading products: \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),children:\"Try Again\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"products-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Our Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Find everything you need for your daily life\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",value:search,onChange:e=>setSearch(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"search-icon\",children:\"\\uD83D\\uDD0D\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Categories\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:sortOption,onChange:e=>setSortOption(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",children:\"Sort by\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-low\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-high\",children:\"Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name-asc\",children:\"Name: A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name-desc\",children:\"Name: Z-A\"})]})})]}),sortedProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-products\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.dribbble.com/users/2382015/screenshots/6065978/no_result.gif\",alt:\"No products found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No products match your search criteria\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:sortedProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-image\",onClick:()=>setSelectedProduct(product)}),product.quantity<=5&&/*#__PURE__*/_jsx(\"span\",{className:\"low-stock-badge\",children:product.quantity===0?'Out of Stock':`Only ${product.quantity} left`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:product.category}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-quantity\",children:[\"Available: \",product.quantity]}),/*#__PURE__*/_jsx(\"button\",{className:\"view-details-btn\",onClick:()=>setSelectedProduct(product),disabled:product.quantity===0,children:product.quantity===0?'Out of Stock':'View Details'})]})]},product.id))}),selectedProduct&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setSelectedProduct(null)}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-modal\",onClick:()=>setSelectedProduct(null),children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-product-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:selectedProduct.image,alt:selectedProduct.name}),selectedProduct.quantity<=5&&/*#__PURE__*/_jsx(\"span\",{className:\"low-stock-badge\",children:selectedProduct.quantity===0?'Out of Stock':`Only ${selectedProduct.quantity} left`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-product-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:selectedProduct.name}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-category\",children:selectedProduct.category}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-description\",children:selectedProduct.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"modal-price\",children:[\"\\u20B9\",selectedProduct.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"modal-quantity\",children:[\"Available: \",selectedProduct.quantity]})]}),selectedProduct.quantity>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn minus\",onClick:()=>setQuantity(prev=>Math.max(1,prev-1)),disabled:quantity<=1,children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-value\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn plus\",onClick:()=>setQuantity(prev=>Math.min(selectedProduct.quantity,prev+1)),disabled:quantity>=selectedProduct.quantity,children:\"+\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart-btn\",onClick:()=>handleAddToCart(selectedProduct),children:[\"Add to Cart - \\u20B9\",(selectedProduct.price*quantity).toFixed(2)]})]}):/*#__PURE__*/_jsx(\"button\",{className:\"out-of-stock-btn\",disabled:true,children:\"Out of Stock\"})]})]})]})]});};export default Products;","map":{"version":3,"names":["React","useState","useContext","useEffect","CartContext","createClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","supabaseUrl","supabaseKey","supabase","Products","addToCart","search","setSearch","category","setCategory","selectedProduct","setSelectedProduct","quantity","setQuantity","sortOption","setSortOption","productsList","setProductsList","loading","setLoading","error","setError","fetchProducts","data","from","select","gt","sanitizedData","map","product","price","Number","err","message","console","channel","on","event","schema","table","payload","eventType","prev","p","id","new","subscribe","removeChannel","handleAddToCart","alert","updatedProducts","updateError","update","eq","filteredProducts","filter","name","toLowerCase","includes","sortedProducts","sort","a","b","localeCompare","categories","Set","className","children","onClick","window","location","reload","type","placeholder","value","onChange","e","target","cat","length","src","alt","image","disabled","description","Math","max","min","toFixed"],"sources":["D:/PROJECTS/new consultancy project/velava-super-stores/src/components/Products.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { CartContext } from '../context/CartContext';\r\nimport './Products.css';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\n// Supabase config\r\nconst supabaseUrl = 'https://cslnkpnxwqahipwrjqna.supabase.co';\r\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNzbG5rcG54d3FhaGlwd3JqcW5hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2MzAxNDksImV4cCI6MjA1NTIwNjE0OX0.jqJ9wbyVFx09RvlNXnLZipCzFvjY2RTfcbO4XoiTfU8'; // Replace with your full anon key\r\nconst supabase = createClient(supabaseUrl, supabaseKey);\r\n\r\nconst Products = () => {\r\n  const { addToCart } = useContext(CartContext);\r\n  const [search, setSearch] = useState('');\r\n  const [category, setCategory] = useState('All');\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [sortOption, setSortOption] = useState('default');\r\n  const [productsList, setProductsList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // ‚úÖ Fetch products and sanitize data\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { data, error } = await supabase\r\n          .from('products')\r\n          .select('*')\r\n          .gt('quantity', 0);\r\n\r\n        if (error) throw error;\r\n\r\n        const sanitizedData = data.map(product => ({\r\n          ...product,\r\n          price: Number(product.price),\r\n          quantity: Number(product.quantity),\r\n        }));\r\n\r\n        setProductsList(sanitizedData);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        console.error('Error fetching products:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n\r\n    const channel = supabase\r\n      .channel('products-changes')\r\n      .on(\r\n        'postgres_changes',\r\n        { event: '*', schema: 'public', table: 'products' },\r\n        (payload) => {\r\n          if (payload.eventType === 'UPDATE') {\r\n            setProductsList(prev =>\r\n              prev.map(p =>\r\n                p.id === payload.new.id\r\n                  ? {\r\n                      ...payload.new,\r\n                      price: Number(payload.new.price),\r\n                      quantity: Number(payload.new.quantity),\r\n                    }\r\n                  : p\r\n              )\r\n            );\r\n          }\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, []);\r\n\r\n  // ‚úÖ Add to cart with numeric values\r\n  const handleAddToCart = async (product) => {\r\n    try {\r\n      if (quantity > product.quantity) {\r\n        alert(`Only ${product.quantity} items available in stock`);\r\n        return;\r\n      }\r\n\r\n      const updatedProducts = productsList.map(p =>\r\n        p.id === product.id ? { ...p, quantity: p.quantity - quantity } : p\r\n      );\r\n      setProductsList(updatedProducts);\r\n\r\n      const { error: updateError } = await supabase\r\n        .from('products')\r\n        .update({ quantity: product.quantity - quantity })\r\n        .eq('id', product.id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      addToCart({\r\n        ...product,\r\n        price: Number(product.price),\r\n        quantity: Number(quantity),\r\n      });\r\n\r\n      setSelectedProduct(null);\r\n      setQuantity(1);\r\n    } catch (err) {\r\n      console.error('Error updating product quantity:', err);\r\n      setProductsList(productsList);\r\n      alert('Failed to update product quantity. Please try again.');\r\n    }\r\n  };\r\n\r\n  const filteredProducts = productsList.filter(product =>\r\n    (category === 'All' || product.category === category) &&\r\n    product.name.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\r\n    switch (sortOption) {\r\n      case 'price-low':\r\n        return a.price - b.price;\r\n      case 'price-high':\r\n        return b.price - a.price;\r\n      case 'name-asc':\r\n        return a.name.localeCompare(b.name);\r\n      case 'name-desc':\r\n        return b.name.localeCompare(a.name);\r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  const categories = [...new Set(productsList.map(product => product.category))];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading products...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <p>Error loading products: {error}</p>\r\n        <button onClick={() => window.location.reload()}>Try Again</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"products-page\">\r\n      <div className=\"products-header\">\r\n        <h1 className=\"page-title\">Our Products</h1>\r\n        <p className=\"page-subtitle\">Find everything you need for your daily life</p>\r\n      </div>\r\n\r\n      <div className=\"products-controls\">\r\n        <div className=\"search-container\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search products...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"search-input\"\r\n          />\r\n          <span className=\"search-icon\">üîç</span>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <select\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value)}\r\n            className=\"filter-select\"\r\n          >\r\n            <option value=\"All\">All Categories</option>\r\n            {categories.map(cat => (\r\n              <option key={cat} value={cat}>{cat}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <select\r\n            value={sortOption}\r\n            onChange={(e) => setSortOption(e.target.value)}\r\n            className=\"filter-select\"\r\n          >\r\n            <option value=\"default\">Sort by</option>\r\n            <option value=\"price-low\">Price: Low to High</option>\r\n            <option value=\"price-high\">Price: High to Low</option>\r\n            <option value=\"name-asc\">Name: A-Z</option>\r\n            <option value=\"name-desc\">Name: Z-A</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {sortedProducts.length === 0 ? (\r\n        <div className=\"no-products\">\r\n          <img\r\n            src=\"https://cdn.dribbble.com/users/2382015/screenshots/6065978/no_result.gif\"\r\n            alt=\"No products found\"\r\n          />\r\n          <p>No products match your search criteria</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"products-grid\">\r\n          {sortedProducts.map((product) => (\r\n            <div key={product.id} className=\"product-card\">\r\n              <div className=\"product-image-container\">\r\n                <img\r\n                  src={product.image}\r\n                  alt={product.name}\r\n                  className=\"product-image\"\r\n                  onClick={() => setSelectedProduct(product)}\r\n                />\r\n                {product.quantity <= 5 && (\r\n                  <span className=\"low-stock-badge\">\r\n                    {product.quantity === 0 ? 'Out of Stock' : `Only ${product.quantity} left`}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"product-info\">\r\n                <h3 className=\"product-name\">{product.name}</h3>\r\n                <p className=\"product-category\">{product.category}</p>\r\n                <p className=\"product-price\">‚Çπ{product.price}</p>\r\n                <p className=\"product-quantity\">Available: {product.quantity}</p>\r\n                <button\r\n                  className=\"view-details-btn\"\r\n                  onClick={() => setSelectedProduct(product)}\r\n                  disabled={product.quantity === 0}\r\n                >\r\n                  {product.quantity === 0 ? 'Out of Stock' : 'View Details'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {selectedProduct && (\r\n        <div className=\"product-modal\">\r\n          <div className=\"modal-overlay\" onClick={() => setSelectedProduct(null)}></div>\r\n          <div className=\"modal-content\">\r\n            <button className=\"close-modal\" onClick={() => setSelectedProduct(null)}>\r\n              &times;\r\n            </button>\r\n\r\n            <div className=\"modal-product-image\">\r\n              <img src={selectedProduct.image} alt={selectedProduct.name} />\r\n              {selectedProduct.quantity <= 5 && (\r\n                <span className=\"low-stock-badge\">\r\n                  {selectedProduct.quantity === 0 ? 'Out of Stock' : `Only ${selectedProduct.quantity} left`}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"modal-product-details\">\r\n              <h2>{selectedProduct.name}</h2>\r\n              <p className=\"modal-category\">{selectedProduct.category}</p>\r\n              <p className=\"modal-description\">{selectedProduct.description}</p>\r\n\r\n              <div className=\"price-container\">\r\n                <span className=\"modal-price\">‚Çπ{selectedProduct.price}</span>\r\n                <span className=\"modal-quantity\">Available: {selectedProduct.quantity}</span>\r\n              </div>\r\n\r\n              {selectedProduct.quantity > 0 ? (\r\n                <>\r\n                  <div className=\"quantity-controls\">\r\n                    <button\r\n                      className=\"quantity-btn minus\"\r\n                      onClick={() => setQuantity(prev => Math.max(1, prev - 1))}\r\n                      disabled={quantity <= 1}\r\n                    >\r\n                      ‚àí\r\n                    </button>\r\n                    <span className=\"quantity-value\">{quantity}</span>\r\n                    <button\r\n                      className=\"quantity-btn plus\"\r\n                      onClick={() => setQuantity(prev => Math.min(selectedProduct.quantity, prev + 1))}\r\n                      disabled={quantity >= selectedProduct.quantity}\r\n                    >\r\n                      +\r\n                    </button>\r\n                  </div>\r\n\r\n                  <button\r\n                    className=\"add-to-cart-btn\"\r\n                    onClick={() => handleAddToCart(selectedProduct)}\r\n                  >\r\n                    Add to Cart - ‚Çπ{(selectedProduct.price * quantity).toFixed(2)}\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <button className=\"out-of-stock-btn\" disabled>\r\n                  Out of Stock\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}